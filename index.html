<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"> 
    <link id="style" rel="stylesheet" href="./src/style.css" />
  </head>
  <body>
    <div id="renkon">
      <script type="reactive">
        const htmlMod = import('https://unpkg.com/htm/preact/standalone.module.js').then((mod) => mod.html);
        const renderMod = import('https://unpkg.com/htm/preact/standalone.module.js').then((mod) => mod.render);
        const html = Behaviors.keep(htmlMod);
        const render = Behaviors.keep(renderMod);
        const b = Events.input(document.querySelector("#slider"));
        const changes = Events.fby(0, b, (a, c) => a + 1);
        const allChanges = Events.fby([], changes, (a, b) => {const newA = [...a, b]; return newA.slice(newA.length - 20);});

	      const last = render(html`<div style="display: flex; flex-direction: column">${allChanges.map((c) => html`<span>${c}</span>`)}</div>`, document.querySelector("#out"));
      </script>
      <div id="input" style="border: 1px solid black; width:600px;margin-bottom: 16px" contenteditable></div>
      <div id="output" style="border: 1px solid brown; width:600px; height: 60px"></div>
      <div>sliders <span id="bar"></span></div>
      <div>pointermove <span id="pointermove"></span></div>
      <div>changes <span id="changes"></span></div>
      <div id="cursor1" style="pointer-events: none; width: 16px; height: 16px; background-color: red; position: absolute"></div>
      <div id="cursor2" style="pointer-events: none; width: 16px; height: 16px; background-color: green; position: absolute"></div>
      <div id="container" style="display: flex; flex-direction: column">
        <input id="slider" type="range"/>
        <input id="slider1" type="range"/>
        <input id="slider2" type="range"/>
        <input id="slider3" type="range"/>
        <input id="slider4" type="range"/>
      </div>
      <div id="out"/>
      <style>
        input[type="range"] {width: 200px}
      </style>
    </div>
    <script type="module">
      import("./src/main.js").then((mod) => mod.view());
    </script>
  </body>
</html>
